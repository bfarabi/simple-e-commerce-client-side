{"ast":null,"code":"import _objectSpread from\"G:/Simple React MS-7/ema-jhon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"G:/Simple React MS-7/ema-jhon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext}from'react';import{useForm}from'react-hook-form';import{UserContext}from'../../App';import{getCart,processOrder}from'../../utilities/databaseManager';import\"./Shipment.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shipment=function Shipment(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.formState.errors;var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),loggedInUser=_useContext2[0],setLoggedInUser=_useContext2[1];var onSubmit=function onSubmit(data){var savedCart=getCart();var orderDetails=_objectSpread(_objectSpread({},loggedInUser),{},{products:savedCart,shipment:data,orderTime:new Date()});fetch('https://serene-wave-85583.herokuapp.com/addOrder',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(orderDetails)}).then(function(res){return res.json();}).then(function(data){if(data){processOrder();alert('Your order place success');}});};return/*#__PURE__*/_jsxs(\"form\",{className:\"ship-form\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({defaultValue:loggedInUser.name},register(\"name\",{required:true})),{},{placeholder:\"Your name\"})),errors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Name is required\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({defaultValue:loggedInUser.email},register(\"email\",{required:true})),{},{placeholder:\"Your email\"})),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Email is required\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"address\",{required:true})),{},{placeholder:\"Your address\"})),errors.address&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Address is required\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"phone\",{required:true})),{},{placeholder:\"Your phone number\"})),errors.phone&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\"Phone number is required\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]});};export default Shipment;","map":{"version":3,"sources":["G:/Simple React MS-7/ema-jhon/src/component/Shipment/Shipment.js"],"names":["React","useContext","useForm","UserContext","getCart","processOrder","Shipment","register","handleSubmit","watch","errors","formState","loggedInUser","setLoggedInUser","onSubmit","data","savedCart","orderDetails","products","shipment","orderTime","Date","fetch","method","headers","body","JSON","stringify","then","res","json","alert","name","required","email","address","phone"],"mappings":"uSAAI,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACJ,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,WAAT,KAA4B,WAA5B,CACA,OAASC,OAAT,CAAkBC,YAAlB,KAAsC,iCAAtC,CACA,MAAO,gBAAP,C,wFAKI,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,cAC8CJ,OAAO,EADrD,CACXK,QADW,UACXA,QADW,CACDC,YADC,UACDA,YADC,CACaC,KADb,UACaA,KADb,CACiCC,MADjC,UACoBC,SADpB,CACiCD,MADjC,iBAEqBT,UAAU,CAACE,WAAD,CAF/B,4CAEZS,YAFY,iBAEEC,eAFF,iBAGnB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,IAAI,CAAI,CACvB,GAAMC,CAAAA,SAAS,CAAGZ,OAAO,EAAzB,CACA,GAAMa,CAAAA,YAAY,gCAAOL,YAAP,MAAqBM,QAAQ,CAAEF,SAA/B,CAA0CG,QAAQ,CAAEJ,IAApD,CAA0DK,SAAS,CAAE,GAAIC,CAAAA,IAAJ,EAArE,EAAlB,CAEAC,KAAK,CAAC,kDAAD,CAAqD,CACxDC,MAAM,CAAE,MADgD,CAExDC,OAAO,CAAE,CACL,eAAe,kBADV,CAF+C,CAKxDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeV,YAAf,CALkD,CAArD,CAAL,CAODW,IAPC,CAOI,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAPP,EAQDF,IARC,CAQI,SAAAb,IAAI,CAAI,CACZ,GAAGA,IAAH,CAAQ,CACNV,YAAY,GACZ0B,KAAK,CAAC,0BAAD,CAAL,CACD,CACF,CAbC,EAeH,CAnBC,CAwBN,mBAEE,cAAM,SAAS,CAAC,WAAhB,CAA4B,QAAQ,CAAEvB,YAAY,CAACM,QAAD,CAAlD,wBAGE,0CAAO,YAAY,CAAEF,YAAY,CAACoB,IAAlC,EAA4CzB,QAAQ,CAAC,MAAD,CAAS,CAAE0B,QAAQ,CAAE,IAAZ,CAAT,CAApD,MAAmF,WAAW,CAAC,WAA/F,GAHF,CAIGvB,MAAM,CAACsB,IAAP,eAAe,aAAM,SAAS,CAAC,OAAhB,8BAJlB,cAME,0CAAO,YAAY,CAAEpB,YAAY,CAACsB,KAAlC,EAA6C3B,QAAQ,CAAC,OAAD,CAAU,CAAE0B,QAAQ,CAAE,IAAZ,CAAV,CAArD,MAAoF,WAAW,CAAC,YAAhG,GANF,CAOGvB,MAAM,CAACwB,KAAP,eAAgB,aAAM,SAAS,CAAC,OAAhB,+BAPnB,cASE,4CAAW3B,QAAQ,CAAC,SAAD,CAAY,CAAE0B,QAAQ,CAAE,IAAZ,CAAZ,CAAnB,MAAoD,WAAW,CAAC,cAAhE,GATF,CAUGvB,MAAM,CAACyB,OAAP,eAAkB,aAAM,SAAS,CAAC,OAAhB,iCAVrB,cAYE,4CAAW5B,QAAQ,CAAC,OAAD,CAAU,CAAE0B,QAAQ,CAAE,IAAZ,CAAV,CAAnB,MAAkD,WAAW,CAAC,mBAA9D,GAZF,CAaGvB,MAAM,CAAC0B,KAAP,eAAgB,aAAM,SAAS,CAAC,OAAhB,sCAbnB,cAcE,cAAO,IAAI,CAAC,QAAZ,EAdF,GAFF,CAmBG,CA9CD,CAgDA,cAAe9B,CAAAA,QAAf","sourcesContent":["    import React, { useContext } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { UserContext } from '../../App';\r\nimport { getCart, processOrder } from '../../utilities/databaseManager';\r\nimport \"./Shipment.css\";\r\n\r\n\r\n    \r\n\r\n    const Shipment = () => {\r\n        const { register, handleSubmit, watch, formState: { errors } } = useForm();\r\n        const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n        const onSubmit = data => {\r\n          const savedCart = getCart();\r\n          const orderDetails = {...loggedInUser, products: savedCart, shipment: data, orderTime: new Date()};\r\n            \r\n          fetch('https://serene-wave-85583.herokuapp.com/addOrder', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type':'application/json'\r\n            },\r\n            body: JSON.stringify(orderDetails)\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if(data){\r\n            processOrder();\r\n            alert('Your order place success');\r\n          }\r\n        })\r\n\r\n      };\r\n\r\n\r\n  \r\n\r\n  return (\r\n    \r\n    <form className=\"ship-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      \r\n      \r\n      <input defaultValue={loggedInUser.name} {...register(\"name\", { required: true })}  placeholder=\"Your name\" />\r\n      {errors.name && <span className=\"error\" >Name is required</span>}\r\n\r\n      <input defaultValue={loggedInUser.email} {...register(\"email\", { required: true })} placeholder=\"Your email\" />\r\n      {errors.email && <span className=\"error\" >Email is required</span>}\r\n\r\n      <input {...register(\"address\", { required: true })} placeholder=\"Your address\" />\r\n      {errors.address && <span className=\"error\" >Address is required</span>}\r\n\r\n      <input {...register(\"phone\", { required: true })} placeholder=\"Your phone number\" />\r\n      {errors.phone && <span className=\"error\" >Phone number is required</span>}\r\n      <input type=\"submit\" />\r\n    </form>\r\n  );\r\n    };\r\n    \r\n    export default Shipment;"]},"metadata":{},"sourceType":"module"}